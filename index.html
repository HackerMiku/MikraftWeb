<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mikraft-温暖小窝</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 灵动岛导航栏 -->
    <nav class="dynamic-island">
        <button class="nav-btn home-btn" onclick="scrollToPage(0)">Mikraft</button>
        <div class="nav-divider"></div>
        <button class="nav-btn" onclick="scrollToPage(1)">介绍</button>
        <button class="nav-btn" onclick="scrollToPage(2)">展示</button>
        <button class="nav-btn" onclick="scrollToPage(3)">加入</button>
    </nav>

    <!-- 首页内容区域 -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Mikraft</h1>
            <p class="hero-subtitle">方块人的温馨小窝</p>
            <button class="scroll-down-btn" onclick="scrollToContent()">
                <span>探索更多</span>
                <div class="arrow-down">↓</div>
            </button>
        </div>
    </section>

    <!-- 玩家介绍区域 -->
    <section class="player-section" id="player-section">
        <div class="player-content">
            <div class="player-text">
                <h2 class="section-title">🎉欢迎你的加入</h2>
                <div class="text-content">
                    <p>没有争议和对峙，只有和谐与友爱</p>
                    <p>我们追求团队合作，一起完成天马行空的梦想</p>
                    <p>拿起方块，将想象的建筑亲手搭建</p>
                    <p>拾起红石，为科技的进步添砖加瓦</p>
                    <p>这里既是大展身手的方块舞台，也是休闲娱乐的温暖小窝</p>
                    <p>不止MC，我们还欢迎别的爱好讨论</p>
                    <p>网游、单机、番剧、音乐...</p>
                </div>
            </div>
            <div class="player-image">
                <img src="Page_1_player.webp" alt="Mikraft 玩家" class="player-img">
            </div>
        </div>
    </section>

    <!-- 展示页面 -->
    <section class="gallery-showcase" id="gallery-showcase">
        <!-- 机器展示传送带 -->
        <div class="conveyor-section">
            <h2 class="conveyor-title">机器</h2>
            <div class="conveyor-belt" id="machine-belt">
                <div class="conveyor-track">
                    <div class="conveyor-item">
                        <img src="ShowPictures/machine_凋零玫瑰农场.webp" alt="凋零玫瑰农场">
                        <span class="item-title">凋零玫瑰农场</span>
                    </div>
                    <div class="conveyor-item">
                        <img src="ShowPictures/machine_固化机.webp" alt="固化机">
                        <span class="item-title">固化机</span>
                    </div>
                    <div class="conveyor-item">
                        <img src="ShowPictures/machine_蜜蜂农场.webp" alt="蜜蜂农场">
                        <span class="item-title">蜜蜂农场</span>
                    </div>
                    <div class="conveyor-item">
                        <img src="ShowPictures/machine_袭击塔.webp" alt="袭击塔">
                        <span class="item-title">袭击塔</span>
                    </div>
                    <div class="conveyor-item">
                        <img src="ShowPictures/machine_猪灵交易并猪人塔.webp" alt="猪灵交易并猪人塔">
                        <span class="item-title">猪灵交易并猪人塔</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 建筑展示传送带 -->
        <div class="conveyor-section">
            <h2 class="conveyor-title">建筑</h2>
            <div class="conveyor-belt reverse" id="building-belt">
                <div class="conveyor-track">
                    <div class="conveyor-item">
                        <img src="ShowPictures/building_浮空魔丸.webp" alt="浮空魔丸">
                        <span class="item-title">浮空魔丸</span>
                    </div>
                    <div class="conveyor-item">
                        <img src="ShowPictures/building_樱花风地狱门.webp" alt="樱花风地狱门">
                        <span class="item-title">樱花风地狱门</span>
                    </div>
                    <div class="conveyor-item">
                        <img src="ShowPictures/building_建筑师招募.webp" alt="建筑师招募">
                        <span class="item-title">建筑师招募</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 版权声明 -->
        <div class="copyright-notice">
            ⚠该图展示皆为玩家搭建。没有特别标注，皆为非原创。 若有侵权， 请联系QQ1953494850
        </div>
    </section>

    <!-- 第四页 - 加入我们 -->
    <section class="join-section" id="join-section">
        <div class="join-content">
            <h1 class="join-title">我们会一直等你</h1>
            <div class="join-button-container">
                <a href="https://qm.qq.com/cgi-bin/qm/qr?k=768716343&jump_from=webapi" target="_blank" class="join-button">
                    加入我们
                </a>
                <p class="join-description">服务器采用白名单制， 需加群后申请白名单</p>
            </div>
        </div>
    </section>

    <script>
        function scrollToContent() {
            document.querySelector('.player-section').scrollIntoView({
                behavior: 'smooth'
            });
        }

        // 导航栏功能
        function scrollToPage(pageId) {
            let targetSection;
            switch(pageId) {
                case 0:
                    targetSection = document.querySelector('.hero-section');
                    break;
                case 1:
                    targetSection = document.querySelector('.player-section');
                    break;
                case 2:
                    targetSection = document.querySelector('.gallery-showcase');
                    break;
                case 3:
                    targetSection = document.querySelector('.join-section');
                    break;
            }
            
            if (targetSection) {
                targetSection.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        }

        // 更新导航栏活跃状态和背景模糊效果
        function updateActiveNav() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const viewportHeight = window.innerHeight;
            const navBtns = document.querySelectorAll('.nav-btn');
            
            // 移除所有活跃状态
            navBtns.forEach(btn => btn.classList.remove('active'));
            
            // 计算滚动进度 - 从第一页开始滚动时逐渐模糊
            const scrollProgress = Math.min(scrollTop / (viewportHeight * 0.8), 1);
            
            // 动态调整模糊遮罩
            if (scrollTop > 0) {
                document.body.classList.add('scrolling');
                // 根据滚动进度调整模糊强度和透明度 - 适中的模糊强度
                const blurAmount = scrollProgress * 12;
                const opacity = scrollProgress;
                document.body.style.setProperty('--blur-amount', `${blurAmount}px`);
                document.body.style.setProperty('--mask-opacity', opacity);
            } else {
                document.body.classList.remove('scrolling');
            }
            
            // 导航栏状态
            if (scrollTop < viewportHeight * 0.5) {
                navBtns[0].classList.add('active');
            } else if (scrollTop < viewportHeight * 1.5) {
                navBtns[1].classList.add('active');
            } else if (scrollTop < viewportHeight * 2.5) {
                navBtns[2].classList.add('active');
            } else {
                navBtns[3].classList.add('active');
            }
        }

        // 鼠标滚轮翻页效果
        let isScrolling = false;

        function handleWheelScroll(event) {
            if (isScrolling) return;
            
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const heroSection = document.querySelector('.hero-section');
            const playerSection = document.querySelector('.player-section');
            const gallerySection = document.querySelector('.gallery-showcase');
            const joinSection = document.querySelector('.join-section');
            
            const viewportHeight = window.innerHeight;
            
            // 判断当前位置
            if (scrollTop < viewportHeight * 0.5) {
                // 在首页
                if (event.deltaY > 0) {
                    event.preventDefault();
                    isScrolling = true;
                    playerSection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => { isScrolling = false; }, 1000);
                }
            } else if (scrollTop < viewportHeight * 1.5) {
                // 在第二页
                if (event.deltaY > 0) {
                    event.preventDefault();
                    isScrolling = true;
                    gallerySection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => { isScrolling = false; }, 1000);
                } else if (event.deltaY < 0) {
                    event.preventDefault();
                    isScrolling = true;
                    heroSection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => { isScrolling = false; }, 1000);
                }
            } else if (scrollTop < viewportHeight * 2.5) {
                // 在第三页
                if (event.deltaY > 0) {
                    event.preventDefault();
                    isScrolling = true;
                    joinSection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => { isScrolling = false; }, 1000);
                } else if (event.deltaY < 0) {
                    event.preventDefault();
                    isScrolling = true;
                    playerSection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => { isScrolling = false; }, 1000);
                }
            } else {
                // 在第四页
                if (event.deltaY < 0) {
                    event.preventDefault();
                    isScrolling = true;
                    gallerySection.scrollIntoView({ behavior: 'smooth' });
                    setTimeout(() => { isScrolling = false; }, 1000);
                }
            }
        }

        // 监听滚轮事件
        window.addEventListener('wheel', handleWheelScroll, { passive: false });
        
        // 监听滚动事件更新导航栏
        window.addEventListener('scroll', updateActiveNav);

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化导航栏状态
            updateActiveNav();
            
            // 传送带悬停效果和无缝循环
            const conveyorTracks = document.querySelectorAll('.conveyor-track');
            
            conveyorTracks.forEach(track => {
                const items = track.querySelectorAll('.conveyor-item');
                
                // 复制所有项目到末尾实现无缝循环
                items.forEach(item => {
                    const clone = item.cloneNode(true);
                    track.appendChild(clone);
                });
            });
            
            // 悬停效果
            const allConveyorItems = document.querySelectorAll('.conveyor-item');
            
            allConveyorItems.forEach(item => {
                const track = item.closest('.conveyor-track');
                
                item.addEventListener('mouseenter', function() {
                    // 暂停动画
                    track.style.animationPlayState = 'paused';
                });
                
                item.addEventListener('mouseleave', function() {
                    // 恢复动画
                    track.style.animationPlayState = 'running';
                });
            });
        });
    </script>
    
    <!-- 网站版权信息 -->
    <footer class="site-footer">
        <p>©2025 MikraftWeb</p>
    </footer>
</body>
</html>